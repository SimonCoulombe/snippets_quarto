---
title: "example of post create by the new_post function"
description: |
  function modified from Tom Mock
author: Simon Coulombe
date: 2024-04-21
categories: []
lang: fr
---


:::{.callout-tip}
## Pourquoi est-ce qu'on est ici?  
:::

```{r, echo = FALSE}
cerulean_blue <- "#2fa4e7"
cerulean_gray <- "#495057"
#install.packages("ggokabeito")
library(ggokabeito)
ggplot2::theme_set(ggplot2::theme_minimal()) # this ggplot2 theme uses roboto condensed font, which works well with the font used for the whole document.
options(ggplot2.discrete.fill  = function() scale_fill_viridis_d() )
options(ggplot2.continuous.fill  = function() scale_fill_okabe_ito)
options(ggplot2.discrete.colour = function() scale_color_okabe_ito())
options(ggplot2.continuous.colour = function() scale_color_viridis_c())
ggplot2::update_geom_defaults("point", ggplot2::aes(color = cerulean_gray))
ggplot2::update_geom_defaults("line", ggplot2::aes(color = cerulean_gray))
ggplot2::update_geom_defaults("rect", ggplot2::aes(color = cerulean_gray, fill = cerulean_gray))
options(scipen=999)

library(ggplot2)
library(dplyr)
library(palmerpenguins)
library(leaflet)
```

First,  I cross reference @fig-charts for fun.  


## nicer code chunks!!   
pris des idées en regardant le code de ce document 
https://quarto.org/docs/extensions/filters.html

puis lesvrais infos sont ici (Sections appearance et filenace)
https://quarto.org/docs/output-formats/html-code.html#appearance
https://quarto.org/docs/output-formats/html-code.html#code-filename


not run: fenced R code block for sharing code using {{}}:  
```{{r}}
1 + 1
```

not run:  echo R code + eval = false, ça ne montre par les backticks avant et après.  
```{r}
#| echo: true
#| eval: false
1 +1 
```

ici je mets 4 backtics pour mettre plusieurs code chunks back to back:  
````
---
title: "My document"
---

Some markdown content.

```{{python}}

1 + 1
```

Some additional markdown content.
````
(fin du 4 backtics  )
not run:  using the filename option in code chunks allows me to give a title   
```{r, filename = "science.R", eval = FALSE, echo = TRUE}
1+1
```


```{.bash filename=".bash"}      
quarto create project <type> <name>
```

```{r}
#| layout-ncol: 2
#| label: fig-charts
#| fig-cap: "mes charts"
#| fig-subcap: 
#|   - "okabe-ito color"
#|   - "default geom color"  


penguins %>% 
  ggplot(aes(x=body_mass_g, y = flipper_length_mm, color = species)) +
  geom_point() + 
  labs(
    title = "This plot uses the okabe-ito scale for color"
  )
  
penguins %>% 
  ggplot(aes(x=body_mass_g, y = flipper_length_mm)) +
  geom_point() + 
  labs(title = "This plot uses the default color for geom_point")
  
```



# toutes les largeurs   
(source: https://quarto.org/docs/authoring/article-layout.html#page-column)
on peut insérer du stock avec le paramètre `#| column : xxx` ou bien avec les trucs funky de quarto:

``` markdown
:::{.column-page}
![](images/elephant.jpg)
:::
```

For computational output, you can specify the page column in your code cell options. For example:
```{r}
#| column: page
#| echo: fenced

knitr::kable(
  mtcars[1:6, 1:10]
)
```

The following code displays a Leaflet map across the whole page using the column: screen 

```{r}
#| column: screen
#| echo: fenced


leaflet() %>%
  addTiles() %>%  # Add default OpenStreetMap map tiles
  addMarkers(lng=174.768, lat=-36.852, popup="The birthplace of R")
```

# toutes les largeurs possibles :   

:::{.column-body-outset}
Outset content...  
:::

:::{.column-body-page}
page content...  
:::

:::{.column-body-page-inset}
page-inset content...  
:::

:::{.column-body-screen-inset}
screen-inset content...  
:::


:::{.column-body-screen}
screen content...  
:::

# margins   

(source: https://quarto.org/docs/authoring/article-layout.html#margin-content)

## margins figures   

```{r}
#| label: fig-mtcars
#| fig-cap: "MPG vs horsepower, colored by transmission."
#| column: margin

library(ggplot2)
mtcars2 <- mtcars
mtcars2$am <- factor(
  mtcars$am, labels = c('automatic', 'manual')
)
ggplot(mtcars2, aes(hp, mpg, color = am)) +
  geom_point() +
  geom_smooth(formula = y ~ x, method = "loess") +
  theme(legend.position = 'bottom')
```

## margins tables

```{r}
#| column: margin

knitr::kable(
  mtcars[1:6, 1:3]
)
``` 

## table with figure in the output    
```{r}
#| fig-column: margin

mtcars2 <- mtcars
mtcars2$am <- factor(
  mtcars$am, labels = c('automatic', 'manual')
)

knitr::kable(
  mtcars[1:6, 1:6]
)

library(ggplot2)
ggplot(mtcars2, aes(hp, mpg, color = am)) +
  geom_point() +
  geom_smooth(formula = y ~ x, method = "loess") +
  theme(legend.position = 'bottom')
```

<!-- :::{.callout-note collapse="true"} -->
## Reproductibilité  {.unnumbered .unlisted}     
<!-- unlisted doesnt appear in table of contents -->

Ce document a été généré le `r format(Sys.time(),"%e %B %Y à %T ")`.    par le programme `r knitr::current_input()`.  Note: les fichiers `.qmd` voient leur extension remplacée par rmarkdown ici.  

```{r repo, cache=FALSE, echo = FALSE}
git2r::repository()
```

```{r sessioninfo, cache = FALSE, echo = FALSE}
# save the session info as an object
library(sessioninfo)
pkg_sesh <- sessioninfo::session_info(pkgs = "attached")

# get the quarto version
quarto_version <- system("quarto --version", intern = TRUE)

# inject the quarto info
pkg_sesh$platform$quarto <- paste(
  system("quarto --version", intern = TRUE), 
  "@", 
  quarto::quarto_path()
)

# print it out
pkg_sesh
```
<!-- ::: -->
